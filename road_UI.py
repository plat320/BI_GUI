 
# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'road.ui'
#
# Created by: PyQt5 UI code generator 5.6
#
# WARNING! All changes made in this file will be lost!
import time
import threading
import multiprocessing
import sys
sys.setrecursionlimit(5000)

from PyQt5 import QtCore, QtGui, QtWidgets
import random
import sys
import os
import torch
from torch.utils.data import DataLoader
import load_data
import models
from PyQt5.QtCore import pyqtSlot, pyqtSignal

class Worker(QtCore.QThread):
    signal1 = pyqtSignal(int)

    def __init__(self):
        super().__init__()
        self.running = False

    def run(self):
        while (self.running and self.restTime > 0):
            print(self.restTime)
            self.sleep(1)
            self.restTime -= 1
        if(self.running and self.restTime<1):
            self.atTime()


    def resume(self, time, tab):
        self.autoTime = time
        self.restTime = time
        self.tab = tab
        self.running = True

    def pause(self):
        self.running = False

    def atTime(self):
        self.restTime = self.autoTime
        self.signal1.emit(self.tab)
        self.run()


class utils_test(QtCore.QThread):
    signal1 = pyqtSignal(int, int, bool, int, str, str, float)

    def __init__(self, tab, model, test_loader, classNum, device):
        super().__init__()
        self.model = model
        self.test_loader = test_loader
        self.classNum = classNum
        self.device = device
        self.bool_pass = True
        self.tab = tab
        self.sem = threading.Semaphore(1)

    def run(self):
        self.test()

    def changeBoolPass(self):
        # self.bool_pass = not self.bool_pass
        self.sem.release()

    def stop(self):
        self.quit()

    def test(self):
        self.sem.acquire()
        print("test start")
        #### test
        for i, test_data in enumerate(self.test_loader):
            if (self.classNum == 2 and test_data['label'].argmax(dim=1) == torch.tensor(0)):
                continue
            self.sem.acquire()
            print(i)
            stime = time.time()
            time.sleep(1)


            org_image = test_data['input'].to(self.device)
            gt = test_data['label'].type(torch.FloatTensor).to(self.device)
            img_path = test_data['img_path'][0]
            model = self.model.to(self.device).eval()

            #### forward path
            output = model(org_image)

            gt_label = torch.argmax(gt, dim=1).cpu().detach().tolist()
            output_label = torch.argmax(torch.sigmoid(output), dim=1).cpu().detach().tolist()

            print("정답 :", gt_label[0])
            print("예측값 :", output_label[0])

            img_path = img_path.split('\\')

            self.signal1.emit(self.tab, output_label[0], (gt_label==output_label), gt_label[0], img_path[-3], img_path[-1], time.time()-stime)



class Ui_MainWindow(QtCore.QObject):
    def setupUi(self, MainWindow):
        #### MainWindow
        self.mainWindow = MainWindow
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(1280, 960)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.mainWidget = QtWidgets.QWidget(self.centralwidget)
        self.mainWidget.setGeometry(QtCore.QRect(9, 9, 1261, 921))
        self.mainWidget.setObjectName("mainWidget")

        #### tab widget
        self.tabWidget = QtWidgets.QTabWidget(self.mainWidget)
        self.tabWidget.setGeometry(QtCore.QRect(0, 0, 1261, 921))
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tabWidget.setFont(font)
        self.tabWidget.setContextMenuPolicy(QtCore.Qt.NoContextMenu)
        self.tabWidget.setObjectName("tabWidget")

        #### tab1
        self.tab1 = QtWidgets.QWidget()
        self.tab1.setObjectName("tab1")
        self.verticalLayoutWidget = QtWidgets.QWidget(self.tab1)
        self.verticalLayoutWidget.setGeometry(QtCore.QRect(10, 10, 1241, 861))
        self.verticalLayoutWidget.setObjectName("verticalLayoutWidget")
        self.tab1_mainVerticalLayout = QtWidgets.QVBoxLayout(self.verticalLayoutWidget)
        self.tab1_mainVerticalLayout.setContentsMargins(0, 0, 0, 0)
        self.tab1_mainVerticalLayout.setObjectName("tab1_mainVerticalLayout")
        ## tab1 class
        self.tab1_class_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab1_class_horizontalLayout.setObjectName("tab1_class_horizontalLayout")
        self.tab1_class = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_class.setFont(font)
        self.tab1_class.setTextFormat(QtCore.Qt.AutoText)
        self.tab1_class.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_class.setObjectName("tab1_class")
        self.tab1_class_horizontalLayout.addWidget(self.tab1_class)
        self.tab1_dry = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_dry.setFont(font)
        self.tab1_dry.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_dry.setObjectName("tab1_dry")
        self.tab1_class_horizontalLayout.addWidget(self.tab1_dry)
        self.tab1_wet = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_wet.setFont(font)
        self.tab1_wet.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_wet.setObjectName("tab1_wet")
        self.tab1_class_horizontalLayout.addWidget(self.tab1_wet)
        self.tab1_snow = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_snow.setFont(font)
        self.tab1_snow.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_snow.setObjectName("tab1_snow")
        self.tab1_class_horizontalLayout.addWidget(self.tab1_snow)
        self.tab1_ice = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_ice.setFont(font)
        self.tab1_ice.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_ice.setObjectName("tab1_ice")
        self.tab1_class_horizontalLayout.addWidget(self.tab1_ice)
        self.tab1_class_horizontalLayout.setStretch(0, 1)
        self.tab1_class_horizontalLayout.setStretch(1, 1)
        self.tab1_class_horizontalLayout.setStretch(2, 1)
        self.tab1_class_horizontalLayout.setStretch(3, 1)
        self.tab1_class_horizontalLayout.setStretch(4, 1)
        # tab1 class frame
        self.tab1_class_frame = QtWidgets.QFrame()
        self.tab1_class_frame.setFrameShape(QtWidgets.QFrame.Box | QtWidgets.QFrame.Raised)
        self.tab1_class_frame.setLayout(self.tab1_class_horizontalLayout)
        self.tab1_mainVerticalLayout.addWidget(self.tab1_class_frame)
        # self.tab1_mainVerticalLayout.addLayout(self.tab1_class_horizontalLayout)

        ## tab1 distance
        self.tab1_distance_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab1_distance_horizontalLayout.setObjectName("tab1_distance_horizontalLayout")
        self.tab1_distance_verticalLayout = QtWidgets.QVBoxLayout()
        self.tab1_distance_verticalLayout.setObjectName("tab1_distance_verticalLayout")
        self.tab1_distance = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_distance.setFont(font)
        self.tab1_distance.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_distance.setObjectName("tab1_distance")
        self.tab1_distance_verticalLayout.addWidget(self.tab1_distance)
        self.tab1_distance5 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_distance5.setFont(font)
        self.tab1_distance5.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_distance5.setObjectName("tab1_distance5")
        self.tab1_distance_verticalLayout.addWidget(self.tab1_distance5)
        self.tab1_distance10 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_distance10.setFont(font)
        self.tab1_distance10.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_distance10.setObjectName("tab1_distance10")
        self.tab1_distance_verticalLayout.addWidget(self.tab1_distance10)
        self.tab1_distance15 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_distance15.setFont(font)
        self.tab1_distance15.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_distance15.setObjectName("tab1_distance15")
        self.tab1_distance_verticalLayout.addWidget(self.tab1_distance15)
        self.tab1_distance_verticalLayout.setStretch(0, 1)
        self.tab1_distance_verticalLayout.setStretch(1, 2)
        self.tab1_distance_verticalLayout.setStretch(2, 2)
        self.tab1_distance_verticalLayout.setStretch(3, 2)
        self.tab1_distance_horizontalLayout.addLayout(self.tab1_distance_verticalLayout)
        self.dry_distance_verticalLayout = QtWidgets.QVBoxLayout()
        self.dry_distance_verticalLayout.setObjectName("dry_distance_verticalLayout")
        self.empty = QtWidgets.QHBoxLayout()
        self.empty.setObjectName("empty")
        self.dry_distance_verticalLayout.addLayout(self.empty)
        self.dry_distance5_horizontalLayout = QtWidgets.QHBoxLayout()
        self.dry_distance5_horizontalLayout.setObjectName("dry_distance5_horizontalLayout")
        self.dry_distance5_value = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.dry_distance5_value.setFont(font)
        self.dry_distance5_value.setAlignment(QtCore.Qt.AlignCenter)
        self.dry_distance5_value.setObjectName("dry_distance5_value")
        self.dry_distance5_horizontalLayout.addWidget(self.dry_distance5_value)
        self.slash = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash.setFont(font)
        self.slash.setAlignment(QtCore.Qt.AlignCenter)
        self.slash.setObjectName("slash")
        self.dry_distance5_horizontalLayout.addWidget(self.slash)
        self.distanceCnt = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt.setFont(font)
        self.distanceCnt.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt.setObjectName("distanceCnt")
        self.dry_distance5_horizontalLayout.addWidget(self.distanceCnt)
        self.dry_distance_verticalLayout.addLayout(self.dry_distance5_horizontalLayout)
        self.dry_distance10_horizontalLayout = QtWidgets.QHBoxLayout()
        self.dry_distance10_horizontalLayout.setObjectName("dry_distance10_horizontalLayout")
        self.dry_distance10_value = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.dry_distance10_value.setFont(font)
        self.dry_distance10_value.setAlignment(QtCore.Qt.AlignCenter)
        self.dry_distance10_value.setObjectName("dry_distance10_value")
        self.dry_distance10_horizontalLayout.addWidget(self.dry_distance10_value)
        self.slash_2 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_2.setFont(font)
        self.slash_2.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_2.setObjectName("slash_2")
        self.dry_distance10_horizontalLayout.addWidget(self.slash_2)
        self.distanceCnt_2 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_2.setFont(font)
        self.distanceCnt_2.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_2.setObjectName("distanceCnt_2")
        self.dry_distance10_horizontalLayout.addWidget(self.distanceCnt_2)
        self.dry_distance_verticalLayout.addLayout(self.dry_distance10_horizontalLayout)
        self.dry_distance15_horizontalLayout = QtWidgets.QHBoxLayout()
        self.dry_distance15_horizontalLayout.setObjectName("dry_distance15_horizontalLayout")
        self.dry_distance15_value = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.dry_distance15_value.setFont(font)
        self.dry_distance15_value.setAlignment(QtCore.Qt.AlignCenter)
        self.dry_distance15_value.setObjectName("dry_distance15_value")
        self.dry_distance15_horizontalLayout.addWidget(self.dry_distance15_value)
        self.slash_3 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_3.setFont(font)
        self.slash_3.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_3.setObjectName("slash_3")
        self.dry_distance15_horizontalLayout.addWidget(self.slash_3)
        self.distanceCnt_3 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_3.setFont(font)
        self.distanceCnt_3.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_3.setObjectName("distanceCnt_3")
        self.dry_distance15_horizontalLayout.addWidget(self.distanceCnt_3)
        self.dry_distance_verticalLayout.addLayout(self.dry_distance15_horizontalLayout)
        self.dry_distance_verticalLayout.setStretch(0, 1)
        self.dry_distance_verticalLayout.setStretch(1, 2)
        self.dry_distance_verticalLayout.setStretch(2, 2)
        self.dry_distance_verticalLayout.setStretch(3, 2)
        self.tab1_distance_horizontalLayout.addLayout(self.dry_distance_verticalLayout)
        self.wet_distance_verticalLayout = QtWidgets.QVBoxLayout()
        self.wet_distance_verticalLayout.setObjectName("wet_distance_verticalLayout")
        self.empty_2 = QtWidgets.QHBoxLayout()
        self.empty_2.setObjectName("empty_2")
        self.wet_distance_verticalLayout.addLayout(self.empty_2)
        self.wet_distance5_horizontalLayout = QtWidgets.QHBoxLayout()
        self.wet_distance5_horizontalLayout.setObjectName("wet_distance5_horizontalLayout")
        self.wet_distance5_value = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.wet_distance5_value.setFont(font)
        self.wet_distance5_value.setAlignment(QtCore.Qt.AlignCenter)
        self.wet_distance5_value.setObjectName("wet_distance5_value")
        self.wet_distance5_horizontalLayout.addWidget(self.wet_distance5_value)
        self.slash_4 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_4.setFont(font)
        self.slash_4.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_4.setObjectName("slash_4")
        self.wet_distance5_horizontalLayout.addWidget(self.slash_4)
        self.distanceCnt_4 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_4.setFont(font)
        self.distanceCnt_4.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_4.setObjectName("distanceCnt_4")
        self.wet_distance5_horizontalLayout.addWidget(self.distanceCnt_4)
        self.wet_distance_verticalLayout.addLayout(self.wet_distance5_horizontalLayout)
        self.wet_distance10_horizontalLayout = QtWidgets.QHBoxLayout()
        self.wet_distance10_horizontalLayout.setObjectName("wet_distance10_horizontalLayout")
        self.wet_distance10_value = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.wet_distance10_value.setFont(font)
        self.wet_distance10_value.setAlignment(QtCore.Qt.AlignCenter)
        self.wet_distance10_value.setObjectName("wet_distance10_value")
        self.wet_distance10_horizontalLayout.addWidget(self.wet_distance10_value)
        self.slash_5 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_5.setFont(font)
        self.slash_5.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_5.setObjectName("slash_5")
        self.wet_distance10_horizontalLayout.addWidget(self.slash_5)
        self.distanceCnt_5 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_5.setFont(font)
        self.distanceCnt_5.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_5.setObjectName("distanceCnt_5")
        self.wet_distance10_horizontalLayout.addWidget(self.distanceCnt_5)
        self.wet_distance_verticalLayout.addLayout(self.wet_distance10_horizontalLayout)
        self.wet_distance15_horizontalLayout = QtWidgets.QHBoxLayout()
        self.wet_distance15_horizontalLayout.setObjectName("wet_distance15_horizontalLayout")
        self.wet_distance15_value = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.wet_distance15_value.setFont(font)
        self.wet_distance15_value.setAlignment(QtCore.Qt.AlignCenter)
        self.wet_distance15_value.setObjectName("wet_distance15_value")
        self.wet_distance15_horizontalLayout.addWidget(self.wet_distance15_value)
        self.slash_6 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_6.setFont(font)
        self.slash_6.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_6.setObjectName("slash_6")
        self.wet_distance15_horizontalLayout.addWidget(self.slash_6)
        self.distanceCnt_6 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_6.setFont(font)
        self.distanceCnt_6.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_6.setObjectName("distanceCnt_6")
        self.wet_distance15_horizontalLayout.addWidget(self.distanceCnt_6)
        self.wet_distance_verticalLayout.addLayout(self.wet_distance15_horizontalLayout)
        self.wet_distance_verticalLayout.setStretch(0, 1)
        self.wet_distance_verticalLayout.setStretch(1, 2)
        self.wet_distance_verticalLayout.setStretch(2, 2)
        self.wet_distance_verticalLayout.setStretch(3, 2)
        self.tab1_distance_horizontalLayout.addLayout(self.wet_distance_verticalLayout)
        self.snow_distance_verticalLayout = QtWidgets.QVBoxLayout()
        self.snow_distance_verticalLayout.setObjectName("snow_distance_verticalLayout")
        self.empty_3 = QtWidgets.QHBoxLayout()
        self.empty_3.setObjectName("empty_3")
        self.snow_distance_verticalLayout.addLayout(self.empty_3)
        self.snow_distance5_horizontalLayout = QtWidgets.QHBoxLayout()
        self.snow_distance5_horizontalLayout.setObjectName("snow_distance5_horizontalLayout")
        self.snow_distance5_value = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.snow_distance5_value.setFont(font)
        self.snow_distance5_value.setAlignment(QtCore.Qt.AlignCenter)
        self.snow_distance5_value.setObjectName("snow_distance5_value")
        self.snow_distance5_horizontalLayout.addWidget(self.snow_distance5_value)
        self.slash_7 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_7.setFont(font)
        self.slash_7.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_7.setObjectName("slash_7")
        self.snow_distance5_horizontalLayout.addWidget(self.slash_7)
        self.distanceCnt_7 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_7.setFont(font)
        self.distanceCnt_7.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_7.setObjectName("distanceCnt_7")
        self.snow_distance5_horizontalLayout.addWidget(self.distanceCnt_7)
        self.snow_distance_verticalLayout.addLayout(self.snow_distance5_horizontalLayout)
        self.snow_distance10_horizontalLayout = QtWidgets.QHBoxLayout()
        self.snow_distance10_horizontalLayout.setObjectName("snow_distance10_horizontalLayout")
        self.snow_distance10_value = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.snow_distance10_value.setFont(font)
        self.snow_distance10_value.setAlignment(QtCore.Qt.AlignCenter)
        self.snow_distance10_value.setObjectName("snow_distance10_value")
        self.snow_distance10_horizontalLayout.addWidget(self.snow_distance10_value)
        self.slash_8 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_8.setFont(font)
        self.slash_8.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_8.setObjectName("slash_8")
        self.snow_distance10_horizontalLayout.addWidget(self.slash_8)
        self.distanceCnt_8 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_8.setFont(font)
        self.distanceCnt_8.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_8.setObjectName("distanceCnt_8")
        self.snow_distance10_horizontalLayout.addWidget(self.distanceCnt_8)
        self.snow_distance_verticalLayout.addLayout(self.snow_distance10_horizontalLayout)
        self.snow_distance15_horizontalLayout = QtWidgets.QHBoxLayout()
        self.snow_distance15_horizontalLayout.setObjectName("snow_distance15_horizontalLayout")
        self.snow_distance15_value = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.snow_distance15_value.setFont(font)
        self.snow_distance15_value.setAlignment(QtCore.Qt.AlignCenter)
        self.snow_distance15_value.setObjectName("snow_distance15_value")
        self.snow_distance15_horizontalLayout.addWidget(self.snow_distance15_value)
        self.slash_9 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_9.setFont(font)
        self.slash_9.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_9.setObjectName("slash_9")
        self.snow_distance15_horizontalLayout.addWidget(self.slash_9)
        self.distanceCnt_9 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_9.setFont(font)
        self.distanceCnt_9.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_9.setObjectName("distanceCnt_9")
        self.snow_distance15_horizontalLayout.addWidget(self.distanceCnt_9)
        self.snow_distance_verticalLayout.addLayout(self.snow_distance15_horizontalLayout)
        self.snow_distance_verticalLayout.setStretch(0, 1)
        self.snow_distance_verticalLayout.setStretch(1, 2)
        self.snow_distance_verticalLayout.setStretch(2, 2)
        self.snow_distance_verticalLayout.setStretch(3, 2)
        self.tab1_distance_horizontalLayout.addLayout(self.snow_distance_verticalLayout)
        self.ice_distance_verticalLayout = QtWidgets.QVBoxLayout()
        self.ice_distance_verticalLayout.setObjectName("ice_distance_verticalLayout")
        self.empty_4 = QtWidgets.QHBoxLayout()
        self.empty_4.setObjectName("empty_4")
        self.ice_distance_verticalLayout.addLayout(self.empty_4)
        self.ice_distance5_horizontalLayout = QtWidgets.QHBoxLayout()
        self.ice_distance5_horizontalLayout.setObjectName("ice_distance5_horizontalLayout")
        self.ice_distance5_value = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.ice_distance5_value.setFont(font)
        self.ice_distance5_value.setAlignment(QtCore.Qt.AlignCenter)
        self.ice_distance5_value.setObjectName("ice_distance5_value")
        self.ice_distance5_horizontalLayout.addWidget(self.ice_distance5_value)
        self.slash_10 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_10.setFont(font)
        self.slash_10.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_10.setObjectName("slash_10")
        self.ice_distance5_horizontalLayout.addWidget(self.slash_10)
        self.distanceCnt_10 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_10.setFont(font)
        self.distanceCnt_10.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_10.setObjectName("distanceCnt_10")
        self.ice_distance5_horizontalLayout.addWidget(self.distanceCnt_10)
        self.ice_distance_verticalLayout.addLayout(self.ice_distance5_horizontalLayout)
        self.ice_distance10_horizontalLayout = QtWidgets.QHBoxLayout()
        self.ice_distance10_horizontalLayout.setObjectName("ice_distance10_horizontalLayout")
        self.ice_distance10_value = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.ice_distance10_value.setFont(font)
        self.ice_distance10_value.setAlignment(QtCore.Qt.AlignCenter)
        self.ice_distance10_value.setObjectName("ice_distance10_value")
        self.ice_distance10_horizontalLayout.addWidget(self.ice_distance10_value)
        self.slash_11 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_11.setFont(font)
        self.slash_11.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_11.setObjectName("slash_11")
        self.ice_distance10_horizontalLayout.addWidget(self.slash_11)
        self.distanceCnt_11 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_11.setFont(font)
        self.distanceCnt_11.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_11.setObjectName("distanceCnt_11")
        self.ice_distance10_horizontalLayout.addWidget(self.distanceCnt_11)
        self.ice_distance_verticalLayout.addLayout(self.ice_distance10_horizontalLayout)
        self.ice_distance15_horizontalLayout = QtWidgets.QHBoxLayout()
        self.ice_distance15_horizontalLayout.setObjectName("ice_distance15_horizontalLayout")
        self.ice_distance15_value = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.ice_distance15_value.setFont(font)
        self.ice_distance15_value.setAlignment(QtCore.Qt.AlignCenter)
        self.ice_distance15_value.setObjectName("ice_distance15_value")
        self.ice_distance15_horizontalLayout.addWidget(self.ice_distance15_value)
        self.slash_12 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_12.setFont(font)
        self.slash_12.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_12.setObjectName("slash_12")
        self.ice_distance15_horizontalLayout.addWidget(self.slash_12)
        self.distanceCnt_12 = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_12.setFont(font)
        self.distanceCnt_12.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_12.setObjectName("distanceCnt_12")
        self.ice_distance15_horizontalLayout.addWidget(self.distanceCnt_12)
        self.ice_distance_verticalLayout.addLayout(self.ice_distance15_horizontalLayout)
        self.ice_distance_verticalLayout.setStretch(0, 1)
        self.ice_distance_verticalLayout.setStretch(1, 2)
        self.ice_distance_verticalLayout.setStretch(2, 2)
        self.ice_distance_verticalLayout.setStretch(3, 2)
        self.tab1_distance_horizontalLayout.addLayout(self.ice_distance_verticalLayout)
        self.tab1_distance_horizontalLayout.setStretch(0, 1)
        self.tab1_distance_horizontalLayout.setStretch(1, 1)
        self.tab1_distance_horizontalLayout.setStretch(2, 1)
        self.tab1_distance_horizontalLayout.setStretch(3, 1)
        self.tab1_distance_horizontalLayout.setStretch(4, 1)
        # tab1 distance frame
        self.tab1_distance_frame = QtWidgets.QFrame()
        self.tab1_distance_frame.setFrameShape(QtWidgets.QFrame.Box | QtWidgets.QFrame.Raised)
        self.tab1_distance_frame.setLayout(self.tab1_distance_horizontalLayout)
        self.tab1_mainVerticalLayout.addWidget(self.tab1_distance_frame)
        # self.tab1_mainVerticalLayout.addLayout(self.tab1_distance_horizontalLayout)

        ## tab1 content
        self.tab1_content_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab1_content_horizontalLayout.setObjectName("tab1_content_horizontalLayout")
        self.tab1_image = QtWidgets.QLabel(self.verticalLayoutWidget)
        self.tab1_image.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_image.setObjectName("tab1_image")
        self.tab1_content_horizontalLayout.addWidget(self.tab1_image)
        self.tab1_content_verticalLayout = QtWidgets.QVBoxLayout()
        self.tab1_content_verticalLayout.setObjectName("tab1_content_verticalLayout")
        self.tab1_content_gridLayout = QtWidgets.QGridLayout()
        self.tab1_content_gridLayout.setObjectName("tab1_content_gridLayout")
        self.tab1_prediction = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_prediction.setFont(font)
        self.tab1_prediction.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_prediction.setObjectName("tab1_prediction")
        self.tab1_content_gridLayout.addWidget(self.tab1_prediction, 0, 1, 1, 1)
        self.tab1_time_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab1_time_horizontalLayout.setObjectName("tab1_time_horizontalLayout")
        self.tab1_timeValue = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab1_timeValue.setFont(font)
        self.tab1_timeValue.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.tab1_timeValue.setObjectName("tab1_timeValue")
        self.tab1_time_horizontalLayout.addWidget(self.tab1_timeValue)
        self.time = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.time.setFont(font)
        self.time.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.time.setObjectName("time")
        self.tab1_time_horizontalLayout.addWidget(self.time)
        self.tab1_time_horizontalLayout.setStretch(0, 4)
        self.tab1_time_horizontalLayout.setStretch(1, 3)
        self.tab1_content_gridLayout.addLayout(self.tab1_time_horizontalLayout, 1, 2, 1, 1)
        self.tab1_GTValue = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab1_GTValue.setFont(font)
        self.tab1_GTValue.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_GTValue.setObjectName("tab1_GTValue")
        self.tab1_content_gridLayout.addWidget(self.tab1_GTValue, 1, 0, 1, 1)
        self.tab1_GT = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_GT.setFont(font)
        self.tab1_GT.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_GT.setObjectName("tab1_GT")
        self.tab1_content_gridLayout.addWidget(self.tab1_GT, 0, 0, 1, 1)
        self.tab1_predictionValue = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab1_predictionValue.setFont(font)
        self.tab1_predictionValue.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_predictionValue.setObjectName("tab1_predictionValue")
        self.tab1_content_gridLayout.addWidget(self.tab1_predictionValue, 1, 1, 1, 1)
        self.tab1_time = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_time.setFont(font)
        self.tab1_time.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_time.setObjectName("tab1_time")
        self.tab1_content_gridLayout.addWidget(self.tab1_time, 0, 2, 1, 1)
        self.tab1_content_gridLayout.setColumnStretch(0, 1)
        self.tab1_content_gridLayout.setColumnStretch(1, 1)
        self.tab1_content_gridLayout.setColumnStretch(2, 1)
        self.tab1_content_gridLayout.setRowStretch(0, 1)
        self.tab1_content_gridLayout.setRowStretch(1, 1)
        self.tab1_content_verticalLayout.addLayout(self.tab1_content_gridLayout)
        self.tab1_button_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab1_button_horizontalLayout.setObjectName("tab1_button_horizontalLayout")
        self.tab1_play_verticalLayout = QtWidgets.QVBoxLayout()
        self.tab1_play_verticalLayout.setObjectName("tab1_play_verticalLayout")
        self.horizontalLayout = QtWidgets.QHBoxLayout()
        self.horizontalLayout.setObjectName("horizontalLayout")
        self.tab1_textEdit = QtWidgets.QLineEdit(self.verticalLayoutWidget)
        self.tab1_textEdit.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.tab1_textEdit.setObjectName("tab1_textEdit")
        self.horizontalLayout.addWidget(self.tab1_textEdit)
        self.tab1_textTime = QtWidgets.QLabel(self.verticalLayoutWidget)
        self.tab1_textTime.setObjectName("tab1_textTime")
        self.horizontalLayout.addWidget(self.tab1_textTime)
        self.tab1_play_verticalLayout.addLayout(self.horizontalLayout)
        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_2.setObjectName("horizontalLayout_2")
        self.tab1_playBtn = QtWidgets.QPushButton(self.verticalLayoutWidget)
        self.tab1_playBtn.setObjectName("tab1_playBtn")
        # tab1 play button click
        self.tab1_playBtn.clicked.connect(lambda: self.clickPlayBtn(1))
        self.horizontalLayout_2.addWidget(self.tab1_playBtn)
        self.tab1_stopBtn = QtWidgets.QPushButton(self.verticalLayoutWidget)
        self.tab1_stopBtn.setObjectName("tab1_stopBtn")
        # tab1 stop button click
        self.tab1_stopBtn.clicked.connect(lambda: self.clickStopBtn())
        self.horizontalLayout_2.addWidget(self.tab1_stopBtn)
        self.tab1_play_verticalLayout.addLayout(self.horizontalLayout_2)
        self.tab1_button_horizontalLayout.addLayout(self.tab1_play_verticalLayout)
        spacerItem = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab1_button_horizontalLayout.addItem(spacerItem)
        self.tab1_nextButton = QtWidgets.QPushButton(self.verticalLayoutWidget)
        self.tab1_nextButton.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab1_nextButton.setFont(font)
        self.tab1_nextButton.setIconSize(QtCore.QSize(15, 15))
        self.tab1_nextButton.setObjectName("tab1_nextButton")
        # tab1 next button click
        self.tab1_nextButton.clicked.connect(lambda: self.clickNextButton(1))

        self.tab1_button_horizontalLayout.addWidget(self.tab1_nextButton)
        self.tab1_button_horizontalLayout.setStretch(0, 2)
        self.tab1_button_horizontalLayout.setStretch(1, 1)
        self.tab1_button_horizontalLayout.setStretch(2, 1)
        self.tab1_content_verticalLayout.addLayout(self.tab1_button_horizontalLayout)
        self.tab1_content_text_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab1_content_text_horizontalLayout.setObjectName("tab1_content_text_horizontalLayout")
        self.tab1_content_text = QtWidgets.QLabel(self.verticalLayoutWidget)
        self.tab1_content_text.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_content_text.setObjectName("tab1_content_text")
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab1_content_text.setFont(font)
        self.tab1_content_text_horizontalLayout.addWidget(self.tab1_content_text)
        self.tab1_content_verticalLayout.addLayout(self.tab1_content_text_horizontalLayout)
        self.tab1_content_verticalLayout.setStretch(0, 2)
        self.tab1_content_verticalLayout.setStretch(1, 2)
        self.tab1_content_verticalLayout.setStretch(2, 1)
        self.tab1_content_horizontalLayout.addLayout(self.tab1_content_verticalLayout)
        self.tab1_content_horizontalLayout.setStretch(0, 1)
        self.tab1_content_horizontalLayout.setStretch(1, 1)
        # tab1 content frame
        self.tab1_content_frame = QtWidgets.QFrame()
        self.tab1_content_frame.setFrameShape(QtWidgets.QFrame.Box | QtWidgets.QFrame.Raised)
        self.tab1_content_frame.setLayout(self.tab1_content_horizontalLayout)
        self.tab1_mainVerticalLayout.addWidget(self.tab1_content_frame)
        # self.tab1_mainVerticalLayout.addLayout(self.tab1_content_horizontalLayout)

        ## tab1 result
        self.tab1_result_verticalLayout = QtWidgets.QVBoxLayout()
        self.tab1_result_verticalLayout.setObjectName("tab1_result_verticalLayout")
        self.tab1_total_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab1_total_horizontalLayout.setObjectName("tab1_total_horizontalLayout")
        spacerItem1 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab1_total_horizontalLayout.addItem(spacerItem1)
        self.tab1_total = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab1_total.setFont(font)
        self.tab1_total.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.tab1_total.setObjectName("tab1_total")
        self.tab1_total_horizontalLayout.addWidget(self.tab1_total)
        self.tab1_totalValue = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab1_totalValue.setFont(font)
        self.tab1_totalValue.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_totalValue.setObjectName("tab1_totalValue")
        self.tab1_total_horizontalLayout.addWidget(self.tab1_totalValue)
        spacerItem2 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab1_total_horizontalLayout.addItem(spacerItem2)
        self.tab1_totalTrue = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.tab1_totalTrue.setFont(font)
        self.tab1_totalTrue.setObjectName("tab1_totalTrue")
        self.tab1_total_horizontalLayout.addWidget(self.tab1_totalTrue)
        self.tab1_totalTrueCnt = QtWidgets.QLabel(self.verticalLayoutWidget)
        self.tab1_totalTrueCnt.setObjectName("tab1_totalTrueCnt")
        self.tab1_total_horizontalLayout.addWidget(self.tab1_totalTrueCnt)
        spacerItem3 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab1_total_horizontalLayout.addItem(spacerItem3)
        self.tab1_totalFalse = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.tab1_totalFalse.setFont(font)
        self.tab1_totalFalse.setObjectName("tab1_totalFalse")
        self.tab1_total_horizontalLayout.addWidget(self.tab1_totalFalse)
        self.tab1_totalFalseCnt = QtWidgets.QLabel(self.verticalLayoutWidget)
        self.tab1_totalFalseCnt.setObjectName("tab1_totalFalseCnt")
        self.tab1_total_horizontalLayout.addWidget(self.tab1_totalFalseCnt)
        spacerItem4 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab1_total_horizontalLayout.addItem(spacerItem4)
        self.tab1_total_horizontalLayout.setStretch(0, 1)
        self.tab1_total_horizontalLayout.setStretch(9, 1)
        self.tab1_result_verticalLayout.addLayout(self.tab1_total_horizontalLayout)
        self.tab1_percent_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab1_percent_horizontalLayout.setObjectName("tab1_percent_horizontalLayout")
        spacerItem5 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab1_percent_horizontalLayout.addItem(spacerItem5)
        self.tab1_accuracy = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.tab1_accuracy.setFont(font)
        self.tab1_accuracy.setObjectName("tab1_accuracy")
        self.tab1_percent_horizontalLayout.addWidget(self.tab1_accuracy)
        self.tab1_percentValue = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab1_percentValue.setFont(font)
        self.tab1_percentValue.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_percentValue.setObjectName("tab1_percentValue")
        self.tab1_percent_horizontalLayout.addWidget(self.tab1_percentValue)
        self.tab1_percent = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab1_percent.setFont(font)
        self.tab1_percent.setAlignment(QtCore.Qt.AlignCenter)
        self.tab1_percent.setObjectName("tab1_percent")
        self.tab1_percent_horizontalLayout.addWidget(self.tab1_percent)
        spacerItem6 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab1_percent_horizontalLayout.addItem(spacerItem6)
        self.tab1_avgTime = QtWidgets.QLabel(self.verticalLayoutWidget)
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.tab1_avgTime.setFont(font)
        self.tab1_avgTime.setObjectName("tab1_avgTime")
        self.tab1_percent_horizontalLayout.addWidget(self.tab1_avgTime)
        self.tab1_avgTimeValue = QtWidgets.QLabel(self.verticalLayoutWidget)
        self.tab1_avgTimeValue.setObjectName("tab1_avgTimeValue")
        self.tab1_percent_horizontalLayout.addWidget(self.tab1_avgTimeValue)
        self.tab1_s = QtWidgets.QLabel(self.verticalLayoutWidget)
        self.tab1_s.setObjectName("tab1_s")
        self.tab1_percent_horizontalLayout.addWidget(self.tab1_s)
        spacerItem7 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab1_percent_horizontalLayout.addItem(spacerItem7)
        self.tab1_resetBtn = QtWidgets.QPushButton(self.verticalLayoutWidget)
        self.tab1_resetBtn.setObjectName("tab1_resetBtn")
        # connect func
        self.tab1_resetBtn.clicked.connect(lambda: self.clickResetBtn(1))
        self.tab1_percent_horizontalLayout.addWidget(self.tab1_resetBtn)
        self.tab1_percent_horizontalLayout.setStretch(0, 4)
        self.tab1_percent_horizontalLayout.setStretch(8, 2)
        self.tab1_percent_horizontalLayout.setStretch(9, 2)
        self.tab1_result_verticalLayout.addLayout(self.tab1_percent_horizontalLayout)
        self.tab1_result_verticalLayout.setStretch(0, 1)
        self.tab1_result_verticalLayout.setStretch(1, 1)
        # tab1 result frame
        self.tab1_result_frame = QtWidgets.QFrame()
        self.tab1_result_frame.setFrameShape(QtWidgets.QFrame.Box | QtWidgets.QFrame.Raised)
        self.tab1_result_frame.setLayout(self.tab1_result_verticalLayout)
        self.tab1_mainVerticalLayout.addWidget(self.tab1_result_frame)
        # self.tab1_mainVerticalLayout.addLayout(self.tab1_result_verticalLayout)

        ## tab1 main
        self.tab1_mainVerticalLayout.setStretch(0, 1)
        self.tab1_mainVerticalLayout.setStretch(1, 3)
        self.tab1_mainVerticalLayout.setStretch(2, 3)
        self.tab1_mainVerticalLayout.setStretch(3, 1)
        self.tabWidget.addTab(self.tab1, "")


        #### tab2
        self.tab2 = QtWidgets.QWidget()
        self.tab2.setObjectName("tab2")
        self.verticalLayoutWidget_9 = QtWidgets.QWidget(self.tab2)
        self.verticalLayoutWidget_9.setGeometry(QtCore.QRect(10, 10, 1241, 861))
        self.verticalLayoutWidget_9.setObjectName("verticalLayoutWidget_9")
        self.tab2_mainVerticalLayout = QtWidgets.QVBoxLayout(self.verticalLayoutWidget_9)
        self.tab2_mainVerticalLayout.setContentsMargins(0, 0, 0, 0)
        self.tab2_mainVerticalLayout.setObjectName("tab2_mainVerticalLayout")
        ## tab2 class
        self.tab2_class_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab2_class_horizontalLayout.setObjectName("tab2_class_horizontalLayout")
        self.tab2_class = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab2_class.setFont(font)
        self.tab2_class.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_class.setObjectName("tab2_class")
        self.tab2_class_horizontalLayout.addWidget(self.tab2_class)
        self.tab2_blackIce = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab2_blackIce.setFont(font)
        self.tab2_blackIce.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_blackIce.setObjectName("tab2_blackIce")
        self.tab2_class_horizontalLayout.addWidget(self.tab2_blackIce)
        self.tab2_class_horizontalLayout.setStretch(0, 1)
        self.tab2_class_horizontalLayout.setStretch(1, 1)
        # tab2 class frame
        self.tab2_class_frame = QtWidgets.QFrame()
        self.tab2_class_frame.setFrameShape(QtWidgets.QFrame.Box | QtWidgets.QFrame.Raised)
        self.tab2_class_frame.setLayout(self.tab2_class_horizontalLayout)
        self.tab2_mainVerticalLayout.addWidget(self.tab2_class_frame)
        # self.tab2_mainVerticalLayout.addLayout(self.tab2_class_horizontalLayout)

        ## tab2 distance
        self.tab2_distance_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab2_distance_horizontalLayout.setObjectName("tab2_distance_horizontalLayout")
        self.tab2_distance_verticalLayout = QtWidgets.QVBoxLayout()
        self.tab2_distance_verticalLayout.setObjectName("tab2_distance_verticalLayout")
        self.tab2_distance = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab2_distance.setFont(font)
        self.tab2_distance.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_distance.setObjectName("tab2_distance")
        self.tab2_distance_verticalLayout.addWidget(self.tab2_distance)
        self.tab2_distance5 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab2_distance5.setFont(font)
        self.tab2_distance5.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_distance5.setObjectName("tab2_distance5")
        self.tab2_distance_verticalLayout.addWidget(self.tab2_distance5)
        self.tab2_distance10 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab2_distance10.setFont(font)
        self.tab2_distance10.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_distance10.setObjectName("tab2_distance10")
        self.tab2_distance_verticalLayout.addWidget(self.tab2_distance10)
        self.tab2_distance15 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab2_distance15.setFont(font)
        self.tab2_distance15.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_distance15.setObjectName("tab2_distance15")
        self.tab2_distance_verticalLayout.addWidget(self.tab2_distance15)
        self.tab2_distance_verticalLayout.setStretch(0, 1)
        self.tab2_distance_verticalLayout.setStretch(1, 2)
        self.tab2_distance_verticalLayout.setStretch(2, 2)
        self.tab2_distance_verticalLayout.setStretch(3, 2)
        self.tab2_distance_horizontalLayout.addLayout(self.tab2_distance_verticalLayout)
        self.blackIce_distance_verticalLayout = QtWidgets.QVBoxLayout()
        self.blackIce_distance_verticalLayout.setObjectName("blackIce_distance_verticalLayout")
        self.empty_5 = QtWidgets.QHBoxLayout()
        self.empty_5.setObjectName("empty_5")
        self.blackIce_distance_verticalLayout.addLayout(self.empty_5)
        self.blackIce_distance5_horizontalLayout = QtWidgets.QHBoxLayout()
        self.blackIce_distance5_horizontalLayout.setObjectName("blackIce_distance5_horizontalLayout")
        self.blackIce_distance5_value = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.blackIce_distance5_value.setFont(font)
        self.blackIce_distance5_value.setAlignment(QtCore.Qt.AlignCenter)
        self.blackIce_distance5_value.setObjectName("blackIce_distance5_value")
        self.blackIce_distance5_horizontalLayout.addWidget(self.blackIce_distance5_value)
        self.slash_13 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_13.setFont(font)
        self.slash_13.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_13.setObjectName("slash_13")
        self.blackIce_distance5_horizontalLayout.addWidget(self.slash_13)
        self.distanceCnt_13 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_13.setFont(font)
        self.distanceCnt_13.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_13.setObjectName("distanceCnt_13")
        self.blackIce_distance5_horizontalLayout.addWidget(self.distanceCnt_13)
        self.blackIce_distance_verticalLayout.addLayout(self.blackIce_distance5_horizontalLayout)
        self.blackIce_distance10_horizontalLayout = QtWidgets.QHBoxLayout()
        self.blackIce_distance10_horizontalLayout.setObjectName("blackIce_distance10_horizontalLayout")
        self.blackIce_distance10_value = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.blackIce_distance10_value.setFont(font)
        self.blackIce_distance10_value.setAlignment(QtCore.Qt.AlignCenter)
        self.blackIce_distance10_value.setObjectName("blackIce_distance10_value")
        self.blackIce_distance10_horizontalLayout.addWidget(self.blackIce_distance10_value)
        self.slash_14 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_14.setFont(font)
        self.slash_14.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_14.setObjectName("slash_14")
        self.blackIce_distance10_horizontalLayout.addWidget(self.slash_14)
        self.distanceCnt_14 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_14.setFont(font)
        self.distanceCnt_14.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_14.setObjectName("distanceCnt_14")
        self.blackIce_distance10_horizontalLayout.addWidget(self.distanceCnt_14)
        self.blackIce_distance_verticalLayout.addLayout(self.blackIce_distance10_horizontalLayout)
        self.blackIce_distance15_horizontalLayout = QtWidgets.QHBoxLayout()
        self.blackIce_distance15_horizontalLayout.setObjectName("blackIce_distance15_horizontalLayout")
        self.blackIce_distance15_value = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.blackIce_distance15_value.setFont(font)
        self.blackIce_distance15_value.setAlignment(QtCore.Qt.AlignCenter)
        self.blackIce_distance15_value.setObjectName("blackIce_distance15_value")
        self.blackIce_distance15_horizontalLayout.addWidget(self.blackIce_distance15_value)
        self.slash_15 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.slash_15.setFont(font)
        self.slash_15.setAlignment(QtCore.Qt.AlignCenter)
        self.slash_15.setObjectName("slash_15")
        self.blackIce_distance15_horizontalLayout.addWidget(self.slash_15)
        self.distanceCnt_15 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.distanceCnt_15.setFont(font)
        self.distanceCnt_15.setAlignment(QtCore.Qt.AlignCenter)
        self.distanceCnt_15.setObjectName("distanceCnt_15")
        self.blackIce_distance15_horizontalLayout.addWidget(self.distanceCnt_15)
        self.blackIce_distance_verticalLayout.addLayout(self.blackIce_distance15_horizontalLayout)
        self.blackIce_distance_verticalLayout.setStretch(0, 1)
        self.blackIce_distance_verticalLayout.setStretch(1, 2)
        self.blackIce_distance_verticalLayout.setStretch(2, 2)
        self.blackIce_distance_verticalLayout.setStretch(3, 2)
        self.tab2_distance_horizontalLayout.addLayout(self.blackIce_distance_verticalLayout)
        self.tab2_distance_horizontalLayout.setStretch(0, 1)
        self.tab2_distance_horizontalLayout.setStretch(1, 1)
        # tab2 distance frame
        self.tab2_distance_frame = QtWidgets.QFrame()
        self.tab2_distance_frame.setFrameShape(QtWidgets.QFrame.Box | QtWidgets.QFrame.Raised)
        self.tab2_distance_frame.setLayout(self.tab2_distance_horizontalLayout)
        self.tab2_mainVerticalLayout.addWidget(self.tab2_distance_frame)
        # self.tab2_mainVerticalLayout.addLayout(self.tab2_distance_horizontalLayout)

        ## tab2 content
        self.tab2_content_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab2_content_horizontalLayout.setObjectName("tab2_content_horizontalLayout")
        self.tab2_image = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        self.tab2_image.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_image.setObjectName("tab2_image")
        self.tab2_content_horizontalLayout.addWidget(self.tab2_image)
        self.tab2_content_verticalLayout = QtWidgets.QVBoxLayout()
        self.tab2_content_verticalLayout.setObjectName("tab2_content_verticalLayout")
        self.tab2_content_gridLayout = QtWidgets.QGridLayout()
        self.tab2_content_gridLayout.setObjectName("tab2_content_gridLayout")
        self.tab2_GT = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab2_GT.setFont(font)
        self.tab2_GT.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_GT.setObjectName("tab2_GT")
        self.tab2_content_gridLayout.addWidget(self.tab2_GT, 0, 0, 1, 1)
        self.tab2_predictionValue = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab2_predictionValue.setFont(font)
        self.tab2_predictionValue.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_predictionValue.setObjectName("tab2_predictionValue")
        self.tab2_content_gridLayout.addWidget(self.tab2_predictionValue, 1, 1, 1, 1)
        self.tab2_time = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab2_time.setFont(font)
        self.tab2_time.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_time.setObjectName("tab2_time")
        self.tab2_content_gridLayout.addWidget(self.tab2_time, 0, 2, 1, 1)
        self.tab2_prediction = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab2_prediction.setFont(font)
        self.tab2_prediction.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_prediction.setObjectName("tab2_prediction")
        self.tab2_content_gridLayout.addWidget(self.tab2_prediction, 0, 1, 1, 1)
        self.tab2_GTValue = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab2_GTValue.setFont(font)
        self.tab2_GTValue.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_GTValue.setObjectName("tab2_GTValue")
        self.tab2_content_gridLayout.addWidget(self.tab2_GTValue, 1, 0, 1, 1)
        self.tab2_time_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab2_time_horizontalLayout.setObjectName("tab2_time_horizontalLayout")
        self.tab2_timeValue = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab2_timeValue.setFont(font)
        self.tab2_timeValue.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.tab2_timeValue.setObjectName("tab2_timeValue")
        self.tab2_time_horizontalLayout.addWidget(self.tab2_timeValue)
        self.time_2 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.time_2.setFont(font)
        self.time_2.setObjectName("time_2")
        self.tab2_time_horizontalLayout.addWidget(self.time_2)
        self.tab2_time_horizontalLayout.setStretch(0, 4)
        self.tab2_time_horizontalLayout.setStretch(1, 3)
        self.tab2_content_gridLayout.addLayout(self.tab2_time_horizontalLayout, 1, 2, 1, 1)
        self.tab2_content_gridLayout.setColumnStretch(0, 1)
        self.tab2_content_gridLayout.setColumnStretch(1, 1)
        self.tab2_content_gridLayout.setColumnStretch(2, 1)
        self.tab2_content_gridLayout.setRowStretch(0, 1)
        self.tab2_content_gridLayout.setRowStretch(1, 1)
        self.tab2_content_verticalLayout.addLayout(self.tab2_content_gridLayout)
        self.tab2_button_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab2_button_horizontalLayout.setObjectName("tab2_button_horizontalLayout")
        self.verticalLayout = QtWidgets.QVBoxLayout()
        self.verticalLayout.setObjectName("verticalLayout")
        self.horizontalLayout_3 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_3.setObjectName("horizontalLayout_3")
        self.tab2_textEdit = QtWidgets.QLineEdit(self.verticalLayoutWidget_9)
        self.tab2_textEdit.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.tab2_textEdit.setObjectName("tab2_textEdit")
        self.horizontalLayout_3.addWidget(self.tab2_textEdit)
        self.tab2_textTime = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        self.tab2_textTime.setObjectName("tab2_textTime")
        self.horizontalLayout_3.addWidget(self.tab2_textTime)
        self.verticalLayout.addLayout(self.horizontalLayout_3)
        self.horizontalLayout_4 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_4.setObjectName("horizontalLayout_4")
        self.tab2_playBtn = QtWidgets.QPushButton(self.verticalLayoutWidget_9)
        self.tab2_playBtn.setObjectName("tab2_playBtn")
        # tab2 play button click
        self.tab2_playBtn.clicked.connect(lambda: self.clickPlayBtn(0))
        self.horizontalLayout_4.addWidget(self.tab2_playBtn)
        self.tab2_stopBtn = QtWidgets.QPushButton(self.verticalLayoutWidget_9)
        self.tab2_stopBtn.setObjectName("tab2_stopBtn")
        # tab2 stop button click
        self.tab2_stopBtn.clicked.connect(lambda: self.clickStopBtn())
        self.horizontalLayout_4.addWidget(self.tab2_stopBtn)
        self.verticalLayout.addLayout(self.horizontalLayout_4)
        self.tab2_button_horizontalLayout.addLayout(self.verticalLayout)
        spacerItem8 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab2_button_horizontalLayout.addItem(spacerItem8)
        self.tab2_nextButton = QtWidgets.QPushButton(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab2_nextButton.setFont(font)
        self.tab2_nextButton.setObjectName("tab2_nextButton")
        # tab2 next button click
        self.tab2_nextButton.clicked.connect(lambda: self.clickNextButton(0))
        self.tab2_button_horizontalLayout.addWidget(self.tab2_nextButton)
        self.tab2_button_horizontalLayout.setStretch(0, 2)
        self.tab2_button_horizontalLayout.setStretch(1, 1)
        self.tab2_button_horizontalLayout.setStretch(2, 1)
        self.tab2_content_verticalLayout.addLayout(self.tab2_button_horizontalLayout)
        self.tab2_content_text_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab2_content_text_horizontalLayout.setObjectName("tab2_content_text_horizontalLayout")
        self.tab2_content_text = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        self.tab2_content_text.setAlignment(QtCore.Qt.AlignCenter)
        self.tab2_content_text.setObjectName("tab2_content_text")
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab2_content_text.setFont(font)
        self.tab2_content_text_horizontalLayout.addWidget(self.tab2_content_text)
        self.tab2_content_verticalLayout.addLayout(self.tab2_content_text_horizontalLayout)
        self.tab2_content_verticalLayout.setStretch(0, 2)
        self.tab2_content_verticalLayout.setStretch(1, 2)
        self.tab2_content_verticalLayout.setStretch(2, 1)
        self.tab2_content_horizontalLayout.addLayout(self.tab2_content_verticalLayout)
        self.tab2_content_horizontalLayout.setStretch(0, 1)
        self.tab2_content_horizontalLayout.setStretch(1, 1)
        # tab2 content frame
        self.tab2_content_frame = QtWidgets.QFrame()
        self.tab2_content_frame.setFrameShape(QtWidgets.QFrame.Box | QtWidgets.QFrame.Raised)
        self.tab2_content_frame.setLayout(self.tab2_content_horizontalLayout)
        self.tab2_mainVerticalLayout.addWidget(self.tab2_content_frame)
        # self.tab2_mainVerticalLayout.addLayout(self.tab2_content_horizontalLayout)

        ## tab2 result
        self.tab2_result_verticalLayout = QtWidgets.QVBoxLayout()
        self.tab2_result_verticalLayout.setObjectName("tab2_result_verticalLayout")
        self.tab2_total_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab2_total_horizontalLayout.setObjectName("tab2_total_horizontalLayout")
        spacerItem9 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab2_total_horizontalLayout.addItem(spacerItem9)
        self.tab2_total = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.tab2_total.setFont(font)
        self.tab2_total.setObjectName("tab2_total")
        self.tab2_total_horizontalLayout.addWidget(self.tab2_total)
        self.tab2_totalValue = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab2_totalValue.setFont(font)
        self.tab2_totalValue.setObjectName("tab2_totalValue")
        self.tab2_total_horizontalLayout.addWidget(self.tab2_totalValue)
        spacerItem10 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab2_total_horizontalLayout.addItem(spacerItem10)
        self.tab2_totalTrue = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.tab2_totalTrue.setFont(font)
        self.tab2_totalTrue.setObjectName("tab2_totalTrue")
        self.tab2_total_horizontalLayout.addWidget(self.tab2_totalTrue)
        self.tab2_totalTrueCnt = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        self.tab2_totalTrueCnt.setObjectName("tab2_totalTrueCnt")
        self.tab2_total_horizontalLayout.addWidget(self.tab2_totalTrueCnt)
        spacerItem11 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab2_total_horizontalLayout.addItem(spacerItem11)
        self.label_2 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.label_2.setFont(font)
        self.label_2.setObjectName("label_2")
        self.tab2_total_horizontalLayout.addWidget(self.label_2)
        self.tab2_totalFalseCnt = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        self.tab2_totalFalseCnt.setObjectName("tab2_totalFalseCnt")
        self.tab2_total_horizontalLayout.addWidget(self.tab2_totalFalseCnt)
        spacerItem12 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab2_total_horizontalLayout.addItem(spacerItem12)
        self.tab2_total_horizontalLayout.setStretch(0, 1)
        self.tab2_total_horizontalLayout.setStretch(9, 1)
        self.tab2_result_verticalLayout.addLayout(self.tab2_total_horizontalLayout)
        self.tab2_percent_horizontalLayout = QtWidgets.QHBoxLayout()
        self.tab2_percent_horizontalLayout.setObjectName("tab2_percent_horizontalLayout")
        spacerItem13 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab2_percent_horizontalLayout.addItem(spacerItem13)
        self.label_4 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.label_4.setFont(font)
        self.label_4.setObjectName("label_4")
        self.tab2_percent_horizontalLayout.addWidget(self.label_4)
        self.tab2_percentValue = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab2_percentValue.setFont(font)
        self.tab2_percentValue.setObjectName("tab2_percentValue")
        self.tab2_percent_horizontalLayout.addWidget(self.tab2_percentValue)
        self.tab2_percent = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(20)
        font.setBold(False)
        font.setWeight(50)
        self.tab2_percent.setFont(font)
        self.tab2_percent.setObjectName("tab2_percent")
        self.tab2_percent_horizontalLayout.addWidget(self.tab2_percent)
        spacerItem14 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab2_percent_horizontalLayout.addItem(spacerItem14)
        self.label_5 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.label_5.setFont(font)
        self.label_5.setObjectName("label_5")
        self.tab2_percent_horizontalLayout.addWidget(self.label_5)
        self.tab2_avgTimeValue = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        self.tab2_avgTimeValue.setObjectName("tab2_avgTimeValue")
        self.tab2_percent_horizontalLayout.addWidget(self.tab2_avgTimeValue)
        self.label_7 = QtWidgets.QLabel(self.verticalLayoutWidget_9)
        self.label_7.setObjectName("label_7")
        self.tab2_percent_horizontalLayout.addWidget(self.label_7)
        spacerItem15 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.tab2_percent_horizontalLayout.addItem(spacerItem15)
        self.tab2_resetBtn = QtWidgets.QPushButton(self.verticalLayoutWidget_9)
        self.tab2_resetBtn.setObjectName("tab2_resetBtn")
        # click resetBtn func
        self.tab2_resetBtn.clicked.connect(lambda: self.clickResetBtn(0))
        self.tab2_percent_horizontalLayout.addWidget(self.tab2_resetBtn)
        self.tab2_percent_horizontalLayout.setStretch(0, 4)
        self.tab2_percent_horizontalLayout.setStretch(8, 2)
        self.tab2_percent_horizontalLayout.setStretch(9, 2)
        self.tab2_result_verticalLayout.addLayout(self.tab2_percent_horizontalLayout)
        ## tab2 result frame
        self.tab2_result_frame = QtWidgets.QFrame()
        self.tab2_result_frame.setFrameShape(QtWidgets.QFrame.Box | QtWidgets.QFrame.Raised)
        self.tab2_result_frame.setLayout(self.tab2_result_verticalLayout)
        self.tab2_mainVerticalLayout.addWidget(self.tab2_result_frame)
        # self.tab2_mainVerticalLayout.addLayout(self.tab2_result_verticalLayout)

        ## tab2 main
        self.tab2_mainVerticalLayout.setStretch(0, 1)
        self.tab2_mainVerticalLayout.setStretch(1, 3)
        self.tab2_mainVerticalLayout.setStretch(2, 3)
        self.tab2_mainVerticalLayout.setStretch(3, 1)
        self.tabWidget.addTab(self.tab2, "")
        MainWindow.setCentralWidget(self.centralwidget)
        self.menubar = QtWidgets.QMenuBar(MainWindow)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 1280, 21))
        self.menubar.setObjectName("menubar")
        MainWindow.setMenuBar(self.menubar)
        self.statusbar = QtWidgets.QStatusBar(MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)

        self.retranslateUi(MainWindow)
        self.tabWidget.setCurrentIndex(0)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

        #
        self.initial()

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        self.tab1_class.setText(_translate("MainWindow", "Class"))
        self.tab1_dry.setText(_translate("MainWindow", "dry"))
        self.tab1_wet.setText(_translate("MainWindow", "wet"))
        self.tab1_snow.setText(_translate("MainWindow", "snow"))
        self.tab1_ice.setText(_translate("MainWindow", "ice"))
        self.tab1_distance.setText(_translate("MainWindow", "Distance (m)"))
        self.tab1_distance5.setText(_translate("MainWindow", "5 ~ 10 "))
        self.tab1_distance10.setText(_translate("MainWindow", "10 ~ 15 "))
        self.tab1_distance15.setText(_translate("MainWindow", "15 ~ 20 "))
        self.dry_distance5_value.setText(_translate("MainWindow", "0"))
        self.slash.setText(_translate("MainWindow", "/"))
        self.distanceCnt.setText(_translate("MainWindow", "50"))
        self.dry_distance10_value.setText(_translate("MainWindow", "0"))
        self.slash_2.setText(_translate("MainWindow", "/"))
        self.distanceCnt_2.setText(_translate("MainWindow", "50"))
        self.dry_distance15_value.setText(_translate("MainWindow", "0"))
        self.slash_3.setText(_translate("MainWindow", "/"))
        self.distanceCnt_3.setText(_translate("MainWindow", "50"))
        self.wet_distance5_value.setText(_translate("MainWindow", "0"))
        self.slash_4.setText(_translate("MainWindow", "/"))
        self.distanceCnt_4.setText(_translate("MainWindow", "50"))
        self.wet_distance10_value.setText(_translate("MainWindow", "0"))
        self.slash_5.setText(_translate("MainWindow", "/"))
        self.distanceCnt_5.setText(_translate("MainWindow", "50"))
        self.wet_distance15_value.setText(_translate("MainWindow", "0"))
        self.slash_6.setText(_translate("MainWindow", "/"))
        self.distanceCnt_6.setText(_translate("MainWindow", "50"))
        self.snow_distance5_value.setText(_translate("MainWindow", "0"))
        self.slash_7.setText(_translate("MainWindow", "/"))
        self.distanceCnt_7.setText(_translate("MainWindow", "50"))
        self.snow_distance10_value.setText(_translate("MainWindow", "0"))
        self.slash_8.setText(_translate("MainWindow", "/"))
        self.distanceCnt_8.setText(_translate("MainWindow", "50"))
        self.snow_distance15_value.setText(_translate("MainWindow", "0"))
        self.slash_9.setText(_translate("MainWindow", "/"))
        self.distanceCnt_9.setText(_translate("MainWindow", "50"))
        self.ice_distance5_value.setText(_translate("MainWindow", "0"))
        self.slash_10.setText(_translate("MainWindow", "/"))
        self.distanceCnt_10.setText(_translate("MainWindow", "50"))
        self.ice_distance10_value.setText(_translate("MainWindow", "0"))
        self.slash_11.setText(_translate("MainWindow", "/"))
        self.distanceCnt_11.setText(_translate("MainWindow", "50"))
        self.ice_distance15_value.setText(_translate("MainWindow", "0"))
        self.slash_12.setText(_translate("MainWindow", "/"))
        self.distanceCnt_12.setText(_translate("MainWindow", "50"))
        self.tab1_image.setText(_translate("MainWindow", "No Image"))
        self.tab1_prediction.setText(_translate("MainWindow", "Prediction"))
        self.tab1_timeValue.setText(_translate("MainWindow", "0"))
        self.time.setText(_translate("MainWindow", "s"))
        self.tab1_GTValue.setText(_translate("MainWindow", "0"))
        self.tab1_GT.setText(_translate("MainWindow", "GT"))
        self.tab1_predictionValue.setText(_translate("MainWindow", "0"))
        self.tab1_time.setText(_translate("MainWindow", "Time"))
        self.tab1_textEdit.setText(_translate("MainWindow", "5"))
        self.tab1_textTime.setText(_translate("MainWindow", "second"))
        self.tab1_playBtn.setText(_translate("MainWindow", "Play"))
        self.tab1_stopBtn.setText(_translate("MainWindow", "Stop"))
        self.tab1_nextButton.setText(_translate("MainWindow", "Next"))
        self.tab1_content_text.setText(_translate("MainWindow", ""))
        self.tab1_total.setText(_translate("MainWindow", "Total"))
        self.tab1_totalValue.setText(_translate("MainWindow", "0"))
        self.tab1_totalTrue.setText(_translate("MainWindow", "Correct"))
        self.tab1_totalTrueCnt.setText(_translate("MainWindow", "0"))
        self.tab1_totalFalse.setText(_translate("MainWindow", "Incorrect"))
        self.tab1_totalFalseCnt.setText(_translate("MainWindow", "0"))
        self.tab1_accuracy.setText(_translate("MainWindow", "Accuracy"))
        self.tab1_percentValue.setText(_translate("MainWindow", "0"))
        self.tab1_percent.setText(_translate("MainWindow", "%"))
        self.tab1_avgTime.setText(_translate("MainWindow", "Avg Time"))
        self.tab1_avgTimeValue.setText(_translate("MainWindow", "0"))
        self.tab1_s.setText(_translate("MainWindow", "s"))
        self.tab1_resetBtn.setText(_translate("MainWindow", "Reset"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.tab1), _translate("MainWindow", "노면 인식기"))
        self.tab2_class.setText(_translate("MainWindow", "Class"))
        self.tab2_blackIce.setText(_translate("MainWindow", "Black Ice"))
        self.tab2_distance.setText(_translate("MainWindow", "Distance (M)"))
        self.tab2_distance5.setText(_translate("MainWindow", "5 ~ 10 "))
        self.tab2_distance10.setText(_translate("MainWindow", "10 ~ 15 "))
        self.tab2_distance15.setText(_translate("MainWindow", "15 ~ 20 "))
        self.blackIce_distance5_value.setText(_translate("MainWindow", "0"))
        self.slash_13.setText(_translate("MainWindow", "/"))
        self.distanceCnt_13.setText(_translate("MainWindow", "100"))
        self.blackIce_distance10_value.setText(_translate("MainWindow", "0"))
        self.slash_14.setText(_translate("MainWindow", "/"))
        self.distanceCnt_14.setText(_translate("MainWindow", "100"))
        self.blackIce_distance15_value.setText(_translate("MainWindow", "0"))
        self.slash_15.setText(_translate("MainWindow", "/"))
        self.distanceCnt_15.setText(_translate("MainWindow", "100"))
        self.tab2_image.setText(_translate("MainWindow", "No Image"))
        self.tab2_GT.setText(_translate("MainWindow", "GT"))
        self.tab2_predictionValue.setText(_translate("MainWindow", "0"))
        self.tab2_time.setText(_translate("MainWindow", "Time"))
        self.tab2_prediction.setText(_translate("MainWindow", "Prediction"))
        self.tab2_GTValue.setText(_translate("MainWindow", "0"))
        self.tab2_timeValue.setText(_translate("MainWindow", "0"))
        self.time_2.setText(_translate("MainWindow", "s"))
        self.tab2_textEdit.setText(_translate("MainWindow", "5"))
        self.tab2_textTime.setText(_translate("MainWindow", "second"))
        self.tab2_playBtn.setText(_translate("MainWindow", "Play"))
        self.tab2_stopBtn.setText(_translate("MainWindow", "Stop"))
        self.tab2_nextButton.setText(_translate("MainWindow", "Next"))
        self.tab2_content_text.setText(_translate("MainWindow", ""))
        self.tab2_total.setText(_translate("MainWindow", "Total"))
        self.tab2_totalValue.setText(_translate("MainWindow", "0"))
        self.tab2_totalTrue.setText(_translate("MainWindow", "Correct"))
        self.tab2_totalTrueCnt.setText(_translate("MainWindow", "0"))
        self.label_2.setText(_translate("MainWindow", "Incorrect"))
        self.tab2_totalFalseCnt.setText(_translate("MainWindow", "0"))
        self.label_4.setText(_translate("MainWindow", "Accuracy"))
        self.tab2_percentValue.setText(_translate("MainWindow", "0"))
        self.tab2_percent.setText(_translate("MainWindow", "%"))
        self.label_5.setText(_translate("MainWindow", "Avg Time"))
        self.tab2_avgTimeValue.setText(_translate("MainWindow", "0"))
        self.label_7.setText(_translate("MainWindow", "s"))
        self.tab2_resetBtn.setText(_translate("MainWindow", "Reset"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.tab2), _translate("MainWindow", "블랙아이스 인식기"))
        # backColor = "background-color: #555555;"
        # self.tab1_class.setStyleSheet

    #### function
    def initial(self):
        # os.environ["CUDA_VISIBLE_DEVICES"] = str(0)

        # net_type = "resnet50"
        image_dir = "C:\\sh\\dataset"

        # Device configuration
        device = torch.device('cpu')
        # device = torch.device('cuda' if torch.cuda.is_available() else 'cpu')
        resize = (600, 400)
        tab1_test_dataset = load_data.Mobticon_crop_dataloader(image_dir = image_dir,
                                                resize = resize,
                                                thermal=True,
                                                classNum = 4)

        self.tab1_test_loader = DataLoader(tab1_test_dataset,
                                                  batch_size=1,
                                                  shuffle=True,
                                                  num_workers=1)

        self.tab1_model = models.resnet18(num_c=4, thermal=True, pretrained=True)

        tab2_test_dataset = load_data.Mobticon_crop_dataloader(image_dir = image_dir,
                                                resize = resize,
                                                thermal=True,
                                                classNum = 2)

        self.tab2_test_loader = DataLoader(tab2_test_dataset,
                                                  batch_size=1,
                                                  shuffle=True,
                                                  num_workers=1)
        self.tab2_model = models.resnet18(num_c=2, thermal=True, pretrained=True)



        self.timerWorker = Worker()
        self.timerWorker.signal1.connect(self.signal1_emitted)
        self.timerWorker.start()

        # initial
        self.setVariable(tab=1)
        self.setVariable(tab=0)
        self.tabth_setting()

    @pyqtSlot(int)
    def signal1_emitted(self, n):
        self.clickNextButton(n)

    @pyqtSlot(int, int, bool, int, str, str, float)
    def predictFinish(self, tab, output_label, predictResult, ori_label, distance, randomValue_img, time):
        result = ""
        color = ""
        if(tab):
            self.updateValue(self.tab1_image, self.tab1_classList[ori_label]+distance, randomValue_img)
            self.updateContentValue(self.tab1_GTValue, self.tab1_classList[ori_label], "black",
                                               self.tab1_backColorList[ori_label])
            self.updateContentValue(self.tab1_predictionValue, self.tab1_classList[output_label], "black",
                                               self.tab1_backColorList[output_label])
            self.updateContentValue(self.tab1_timeValue, str(round(time, 2)), "black", "#fcfcfb")
            self.tab1_totalTime += time

            self.tab1_totalCnt, self.tab1_trueCnt, self.tab1_falseCnt = self.resultCntCal(predictResult,
                                                                                                     self.tab1_totalCnt,
                                                                                                     self.tab1_trueCnt,
                                                                                                     self.tab1_falseCnt)

            if (predictResult):
                result = "Success"
                color = "color: green"
            else:
                result = "Fail"
                color = "color: red"
            self.setContentText(self.tab1_content_text, result, color)
            self.updateResultValue(self.tab1_totalValue, self.tab1_totalTrueCnt, self.tab1_totalFalseCnt,
                                              self.tab1_percentValue, self.tab1_avgTimeValue,
                                              self.tab1_totalCnt, self.tab1_trueCnt, self.tab1_falseCnt,
                                              self.tab1_totalTime)
        else:
            self.updateValue(self.tab2_image, self.tab2_classList[ori_label]+distance, randomValue_img)
            self.updateContentValue(self.tab2_GTValue, self.tab2_classList[ori_label], "white",
                                               self.tab2_backColorList[ori_label])
            self.updateContentValue(self.tab2_predictionValue, self.tab2_classList[output_label], "white",
                                               self.tab2_backColorList[output_label])
            self.updateContentValue(self.tab2_timeValue, str(round(time, 2)), "black", "#fcfcfb")
            self.tab2_totalTime += time

            self.tab2_predictionResultBool = predictResult
            if (predictResult):
                result = "Success"
                color = "color: green"
            else:
                result = "Fail"
                color = "color: red"
            self.setContentText(self.tab2_content_text, result, color)
            self.tab2_totalCnt, self.tab2_trueCnt, self.tab2_falseCnt = self.resultCntCal(predictResult,
                                                                                                     self.tab2_totalCnt,
                                                                                                     self.tab2_trueCnt,
                                                                                                     self.tab2_falseCnt)
            self.updateResultValue(self.tab2_totalValue, self.tab2_totalTrueCnt, self.tab2_totalFalseCnt,
                                              self.tab2_percentValue, self.tab2_avgTimeValue,
                                              self.tab2_totalCnt, self.tab2_trueCnt, self.tab2_falseCnt,
                                              self.tab2_totalTime)

    def tabth_setting(self, mode=2):
        self.clickStopBtn()

        self.device = torch.device('cpu')
        # device = torch.device('cuda' if torch.cuda.is_available() else 'cpu')

        if mode==0 or mode==2:
            model_path = "C:\\sh\\model_checkpoint_0216\\checkpoint_last_wo_BI.pth.tar"
            checkpoint = torch.load(model_path, map_location=self.device)
            self.tab1_model.load_state_dict(checkpoint["model"])
            self.th_test_tab1 = utils_test(1, self.tab1_model, self.tab1_test_loader, 4, self.device)
            self.th_test_tab1.signal1.connect(self.predictFinish)
            self.th_test_tab1.start()

        if mode==1 or mode==2:
            model_path = "C:\\sh\\model_checkpoint_0216\\checkpoint_last_with_BI.pth.tar"
            checkpoint = torch.load(model_path, map_location=self.device)
            self.tab2_model.load_state_dict(checkpoint["model"])

            self.th_test_tab2 = utils_test(0, self.tab2_model, self.tab2_test_loader, 2, self.device)
            self.th_test_tab2.signal1.connect(self.predictFinish)
            self.th_test_tab2.start()


    # set variable
    def setVariable(self, tab):
        self.root_testImgFolder = "C:\\sh\\dataset"
        self.updateDistanceFunc = {
            'dry05': lambda: self.addDistanceCnt(self.dry_distance5_value),
            'dry10': lambda: self.addDistanceCnt(self.dry_distance10_value),
            'dry15': lambda: self.addDistanceCnt(self.dry_distance15_value),
            'wet05': lambda: self.addDistanceCnt(self.wet_distance5_value),
            'wet10': lambda: self.addDistanceCnt(self.wet_distance10_value),
            'wet15': lambda: self.addDistanceCnt(self.wet_distance15_value),
            'snow05': lambda: self.addDistanceCnt(self.snow_distance5_value),
            'snow10': lambda: self.addDistanceCnt(self.snow_distance10_value),
            'snow15': lambda: self.addDistanceCnt(self.snow_distance15_value),
            'ice05': lambda: self.addDistanceCnt(self.ice_distance5_value),
            'ice10': lambda: self.addDistanceCnt(self.ice_distance10_value),
            'ice15': lambda: self.addDistanceCnt(self.ice_distance15_value),
            'blackIce05': lambda: self.addDistanceCnt(self.blackIce_distance5_value),
            'blackIce10': lambda: self.addDistanceCnt(self.blackIce_distance10_value),
            'blackIce15': lambda: self.addDistanceCnt(self.blackIce_distance15_value)
        }

        self.distanceList = ["05", "10", "15"]
        # tab1 variable
        if(tab):
            self.tab1_classList = ["dry", "wet", "snow", "ice"]
            self.tab1Data = {}
            self.tab1KeyList = []
            self.tab1_totalCnt = 0
            self.tab1_trueCnt = 0
            self.tab1_falseCnt = 0
            self.tab1_totalTime = 0
            self.tab1_autoTime = 5
            self.tab1_backColorList = ["#94aec5", "#fec619", "#f1efec", "#e6e2ff"]

            # make img list
            self.makeImgList(self.tab1_classList, self.tab1Data, self.tab1KeyList)
        # tab2 variable
        else:
            self.tab2_classList = ["none", "blackIce"]
            self.tab2Data = {}
            self.tab2KeyList = []
            self.tab2_totalCnt = 0
            self.tab2_trueCnt = 0
            self.tab2_falseCnt = 0
            self.tab2_totalTime = 0
            self.tab2_autoTime = 5
            self.tab2_backColorList = ["#cc3433", "#261d11"]

            # make img list
            self.makeImgList(self.tab2_classList, self.tab2Data, self.tab2KeyList)

    def makeImgList(self, classList, data, keyList):
        for c in classList:
            classFolderPath = os.path.join(self.root_testImgFolder, c)
            tmp_classList = []
            for d in self.distanceList:
                img_dict = {}
                for img in ["Img", "Thermal"]:
                    distanceFolderPath = os.path.join(classFolderPath, d, img)
                    tmp_distanceList = os.listdir(distanceFolderPath)
                    if(len(tmp_distanceList)<1):
                        continue
                    img_dict[img] = tmp_distanceList
                if(len(img_dict)>0):
                    data[c + d] = img_dict
                    keyList.append(c + d)

    def clickPlayBtn(self, tab):
        if(tab):
            self.clickNextButton(1)
            self.tab1_autoTime = int(self.tab1_textEdit.text())
            self.timerWorker.resume(self.tab1_autoTime, tab)
            self.timerWorker.start()
        else:
            self.clickNextButton(0)
            self.tab2_autoTime = int(self.tab2_textEdit.text())
            self.timerWorker.resume(self.tab2_autoTime, tab)
            self.timerWorker.start()

    def clickStopBtn(self):
        self.timerWorker.pause()

    # click start button
    def clickResetBtn(self, tab):
        if(tab):
            # thread kill and new
            self.th_test_tab1.stop()

            self.th_test_tab1 = utils_test(1, self.tab1_model, self.tab1_test_loader, 4, self.device)
            self.th_test_tab1.signal1.connect(self.predictFinish)
            self.th_test_tab1.start()

            # tab1 variable initialization
            self.setVariable(1)
            self.setCntInitialization(1)
            self.setContentText(self.tab1_content_text, "Reset", "color: green;")
            self.setContentText(self.tab1_GTValue, "0", "color: black; ")
            self.setContentText(self.tab1_predictionValue, "0", "color: black;")
            self.initialResult(self.tab1_totalValue, self.tab1_totalTrueCnt, self.tab1_totalFalseCnt,
                               self.tab1_percentValue, self.tab1_avgTimeValue, self.tab1_timeValue, self.tab1_textEdit)


        else:
            # thread kill and new
            self.th_test_tab2.stop()

            self.th_test_tab2 = utils_test(0, self.tab2_model, self.tab2_test_loader, 2, self.device)
            self.th_test_tab2.signal1.connect(self.predictFinish)
            self.th_test_tab2.start()

            # tab2 variable initialization
            self.setVariable(0)
            self.setCntInitialization(0)
            self.setContentText(self.tab2_content_text, "Reset", "color: green;")
            self.setContentText(self.tab2_GTValue, "0", "color: black;")
            self.setContentText(self.tab2_predictionValue, "0", "color: black;")
            self.initialResult(self.tab2_totalValue, self.tab2_totalTrueCnt, self.tab2_totalFalseCnt,
                               self.tab2_percentValue, self.tab2_avgTimeValue, self.tab2_timeValue, self.tab2_textEdit)
        self.tabth_setting(tab)
        self.timerWorker.pause()

    # set context text
    def setContentText(self, label, text_str, color):
        label.setText(text_str)
        label.setStyleSheet(color)

    # click next button
    def clickNextButton(self, tab):
        result = ""
        color = ""
        if(tab):
            if(self.tab1_totalCnt < 600):
                # predict
                self.th_test_tab1.changeBoolPass()
            else:
                self.setContentText(self.tab1_content_text, "Finish : All Image Predicted", "color: red;")
                self.tab1_content_text.repaint()
                self.clickStopBtn()
        else:
            if(self.tab2_totalCnt < 300):
                # predict
                self.th_test_tab2.changeBoolPass()
                self.tab2_content_text.repaint()
            else:
                self.setContentText(self.tab2_content_text, "Finish : All image Predicted", "color: red;")
                self.tab2_content_text.repaint()
                self.clickStopBtn()

    # update distance & content
    def updateValue(self, label, randomKey, randomValue):
        self.updateDistanceFunc[randomKey]()
        path = os.path.join(self.root_testImgFolder, randomKey[:-2], randomKey[-2:], "Img", randomValue)
        label.setPixmap(QtGui.QPixmap(path))

    # set cnt values to 0
    def setCntInitialization(self, tab):
        if(tab):
            self.dry_distance5_value.setText("0")
            self.dry_distance10_value.setText("0")
            self.dry_distance15_value.setText("0")
            self.wet_distance5_value.setText("0")
            self.wet_distance10_value.setText("0")
            self.wet_distance15_value.setText("0")
            self.snow_distance5_value.setText("0")
            self.snow_distance10_value.setText("0")
            self.snow_distance15_value.setText("0")
            self.ice_distance5_value.setText("0")
            self.ice_distance10_value.setText("0")
            self.ice_distance15_value.setText("0")
        else:
            self.blackIce_distance5_value.setText("0")
            self.blackIce_distance10_value.setText("0")
            self.blackIce_distance15_value.setText("0")


    # set context text
    def setContentText(self, label, text_str, color):
        _translate = QtCore.QCoreApplication.translate
        label.setText(_translate("MainWindow",text_str))
        label.setStyleSheet(color)
        # self.update()

    # update result value
    def updateResultValue(self, totalValue, totalTrueCnt, totalFalseCnt, percentValue, avgTimeValue,
                          totalCnt, trueCnt, falseCnt, totalTime):
        totalValue.setText(str(totalCnt))
        totalTrueCnt.setText(str(trueCnt))
        totalFalseCnt.setText(str(falseCnt))
        percentValue.setText(str(round(trueCnt*100/totalCnt, 4)))
        avgTimeValue.setText(str(round(totalTime/totalCnt, 2)))

    def resultCntCal(self, result, totalCnt, trueCnt, falseCnt):
        totalCnt += 1
        if(result):
            trueCnt += 1
        else:
            falseCnt += 1
        return totalCnt, trueCnt, falseCnt

    # add 1
    def addDistanceCnt(self, label):
        label.setText(str(int(label.text()) + 1))

    # update content value
    def updateContentValue(self, label, string, text_color, back_color):
        label.setText(string)
        text_color = "color: " + text_color +";"
        back_color = "background-color: " + back_color + ";"
        label.setStyleSheet(text_color+back_color)

    def initialResult(self, totalValue, totalTrueCnt, totalFalseCnt, percentValue,
                      avgTimeValue, timeValue, editText):
        totalValue.setText("0")
        totalTrueCnt.setText("0")
        totalFalseCnt.setText("0")
        percentValue.setText("0")
        avgTimeValue.setText("0")
        timeValue.setText("0")
        editText.setText("5")

if __name__ == "__main__":

    # Pyinstaller fix
    multiprocessing.freeze_support()

    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec_())

